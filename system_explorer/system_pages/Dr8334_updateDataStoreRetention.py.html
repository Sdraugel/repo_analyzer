
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>updateDataStoreRetention.py Details</title>
            <style>
                .container {
                    width: 60%;
                    margin: 50px auto;
                }
                h2 {
                    text-align: center;
                }
                .description {
                    background-color: #f9f9f9;
                    padding: 20px;
                    border: 1px solid #ddd;
                    border-radius: 5px;
                    margin-top: 20px;
                }
                button {
                    padding: 10px 20px;
                    background-color: #4CAF50;
                    color: white;
                    border: none;
                    cursor: pointer;
                }
                button:hover {
                    background-color: #45a049;
                }
            </style>
        </head>
        <body>
            <div class="container">
                <h2>updateDataStoreRetention.py</h2>
                <div class="description">
                    <p><strong>Description:</strong></p>
                    <p>This Python script appears to be used for managing and updating XML configuration files in a specified directory structure. Here's a breakdown of what it does:

1. It sets up a logging system to record the script's activities. The logger is named "updateDataStoreRetention.py".

2. It defines a class `CommentedTreeBuilder` which extends `ET.TreeBuilder` from the `xml.etree.ElementTree` module. This class is used to parse XML data while preserving comments.

3. The `processDir` function is used to walk through a directory and its subdirectories to find all XML files. For each XML file found, it calls the `updateFile` function.

4. The `updateFile` function opens and parses an XML file. If the file is not a valid XML or if it doesn't meet certain conditions (like not being an "archive" XML file or not having "/data_store" as root directory), it logs a message and skips the file. If the XML file meets the conditions, it checks the "defaultRetentionHours" and "selectedRetentionHours" values in the XML. If these values are greater than 12, it changes them to 12 and marks the file as changed.

5. If the XML file was changed, it creates a backup of the original file, formats the updated XML to a pretty format, and writes it back to the file. If there's an error during this process, it logs the error and returns 1.

6. The `readHeaderComments` function is used to read the header comments in an XML file.

7. The `main` function is the entry point of the script. It calls `processDir` or `updateFile` for each path in `CONFIG_PATHS` or the paths provided as command line arguments. If there's an error (indicated by a return value of 1 from `processDir` or `updateFile`), it logs a completion message with errors. Otherwise, it logs a successful completion message.

8. If the script is run as a standalone program (not imported as a module), it calls the `main` function and exits with its return value.</p>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <a href="javascript:history.back()"><button>Back</button></a>
                </div>
            </div>
        </body>
        </html>
        